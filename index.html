<!DOCTYPE html>

<head>
	<link rel="stylesheet" type="text/css" href="tomer_style.css">
	<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
</head>

<html>
	<body>

		<div class="center">
		
			<input  id="roundRedButton" type="submit" value="Panic!" onclick="call_for_help()" />
			
		</div>





		
		<script type="text/javascript" charset="utf-8">
		function call_for_help()
		{
			button=document.getElementById("roundRedButton");
			button.value="Location sent";
			navigator.geolocation.getCurrentPosition(onSuccess, onError);
			window.setTimeout(restore_button,3000);
		}
		function restore_button()
		{
			button=document.getElementById("roundRedButton");
			button.value="Panic!";
		}
		// Wait for device API libraries to load
	    //
	   // document.addEventListener("deviceready", onDeviceReady, false);
	
	    // device APIs are available
	    //
	    function onDeviceReady() 
	    {
	        navigator.geolocation.getCurrentPosition(onSuccess, onError);
	    }
	
	    // onSuccess Geolocation
	    //
	    function onSuccess(position) 
	    {
	    	alert(	"Coordinates:\n" +
	    			"Latitude: "	+ position.coords.latitude 	+ "\n" +
	    			"Longitude: "		+ position.coords.longitude + "\n\n" +
	    			"Your'e location has been sent to the local police.\n");
	    }
	
	    // onError Callback receives a PositionError object
	    //
	    function onError(error) 
	    {
	        alert(	'Sending location failed\n'	+
	        		'code: '    + error.code    + '\n' +
	              	'message: ' + error.message + '\n');
	    }
		</script>
	</body>
</html>
